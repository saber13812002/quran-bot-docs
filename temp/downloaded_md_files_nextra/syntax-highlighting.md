Skip to Content

ðŸŽ‰ Nextra 4.0 is released. dimaMachina is looking [for a new job or consulting
](https://github.com/dimaMachina).

[](/)

[Documentation](/docs)Versions[Blog](/blog)[About](/about)[Showcase](/showcase)[Sponsors](/sponsors)

[](https://github.com/shuding/nextra)

  * Documentation

    * [Introduction](/docs)
    * [File Conventions](/docs/file-conventions)

      * Files
      * [`page.mdx`](/docs/file-conventions/page-file)
      * [`_meta.js`](/docs/file-conventions/meta-file)
      * [`page.jsx` ](https://nextjs.org/docs/app/api-reference/file-conventions/page)
      * [`layout.jsx` ](https://nextjs.org/docs/app/api-reference/file-conventions/layout)
      * Top-Level Files
      * [`mdx-components.js`](/docs/file-conventions/mdx-components-file)
      * Top-Level Folders
      * [`content`](/docs/file-conventions/content-directory)
      * [`src`](/docs/file-conventions/src-directory)
      * [`app` ](https://nextjs.org/docs/app/getting-started/installation?utm_source=nextra.site&utm_medium=referral&utm_campaign=sidebar#create-the-app-directory)
      * [`public` ](https://nextjs.org/docs/app/building-your-application/optimizing/static-assets?utm_source=nextra.site&utm_medium=referral&utm_campaign=sidebar)

    * [Guide](/docs/guide)

      * [Markdown](/docs/guide/markdown)
      * [Syntax Highlighting](/docs/guide/syntax-highlighting)
      * [Next.js Link](/docs/guide/link)
      * [Next.js Image](/docs/guide/image)
      * [Next.js SSG](/docs/guide/ssg)
      * [Next.js I18n](/docs/guide/i18n)
      * [Custom CSS](/docs/guide/custom-css)
      * [Static Exports](/docs/guide/static-exports)
      * [Search Engine](/docs/guide/search)
      * [GitHub Alert Syntax](/docs/guide/github-alert-syntax)
      * [Usage with Turbopack](/docs/guide/turbopack)
      * [Deploying ](https://nextjs.org/docs/app/building-your-application/deploying?utm_source=nextra.site&utm_medium=referral&utm_campaign=sidebar)

    * [Advanced](/docs/advanced)

      * [Npm2Yarn](/docs/advanced/npm2yarn)
      * [Mermaid](/docs/advanced/mermaid)
      * [Tailwind CSS](/docs/advanced/tailwind-css)
      * [LaTeX](/docs/advanced/latex)
      * [Rendering Tables](/docs/advanced/table)
      * [TypeScript](/docs/advanced/typescript)
      * [Remote Content](/docs/advanced/remote)
      * [Playground](/docs/advanced/playground)
      * [Customize Cascade Layers](/docs/advanced/customize-the-cascade-layers)
      * [Twoslash Support](/docs/advanced/twoslash)

    * [Built-In Components](/docs/built-ins)

      * Layout Components
      * [Banner](/docs/built-ins/banner)
      * [Head](/docs/built-ins/head)
      * [Search](/docs/built-ins/search)
      * Content Components
      * [Bleed](/docs/built-ins/bleed)
      * [Callout](/docs/built-ins/callout)
      * [Cards](/docs/built-ins/cards)
      * [FileTree](/docs/built-ins/filetree)
      * [Steps](/docs/built-ins/steps)
      * [Table](/docs/built-ins/table)
      * [Tabs](/docs/built-ins/tabs)

    * Themes
    * [Docs Theme](/docs/docs-theme)

      * [Get Started](/docs/docs-theme/start)
      * [Built-In Components](/docs/docs-theme/built-ins)

        * [Layout](/docs/docs-theme/built-ins/layout)
        * [Footer](/docs/docs-theme/built-ins/footer)
        * [Navbar](/docs/docs-theme/built-ins/navbar)
        * [NotFoundPage](/docs/docs-theme/built-ins/not-found)

      * [API](/docs/docs-theme/api)

    * [Blog Theme](/docs/blog-theme)

      * [Get Started](/docs/blog-theme/start)
      * [Get Posts and Their Tags](/docs/blog-theme/get-posts-and-tags)
      * [`/posts` Page](/docs/blog-theme/posts)
      * [`/tags/:id` Page](/docs/blog-theme/tags)
      * [`/rss.xml` Route](/docs/blog-theme/rss)

    * [Custom Theme](/docs/custom-theme)
    * More
    * [About Nextra](/about)
    * [Next.js Docs ](https://nextjs.org?utm_source=nextra.site&utm_medium=referral&utm_campaign=sidebar)
    * [Migration from Nextra v3 ](https://the-guild.dev/blog/nextra-4?utm_source=nextra.site&utm_campaign=sidebar&utm_content=sidebar_link#nextra-theme-docs-changes)

  * Versions

    * [Nextra v3 Docs ](https://nextra-v2-7hslbun8z-shud.vercel.app)
    * [Nextra v2 Docs ](https://nextra-v2-oe0zrpzjp-shud.vercel.app)

  * [Blog](/blog)
  * [About](/about)
  * [Showcase](/showcase)
  * [Sponsors](/sponsors)

Light

  * [Introduction](/docs)
  * [File Conventions](/docs/file-conventions)

    * Files
    * [`page.mdx`](/docs/file-conventions/page-file)
    * [`_meta.js`](/docs/file-conventions/meta-file)
    * [`page.jsx` ](https://nextjs.org/docs/app/api-reference/file-conventions/page)
    * [`layout.jsx` ](https://nextjs.org/docs/app/api-reference/file-conventions/layout)
    * Top-Level Files
    * [`mdx-components.js`](/docs/file-conventions/mdx-components-file)
    * Top-Level Folders
    * [`content`](/docs/file-conventions/content-directory)
    * [`src`](/docs/file-conventions/src-directory)
    * [`app` ](https://nextjs.org/docs/app/getting-started/installation?utm_source=nextra.site&utm_medium=referral&utm_campaign=sidebar#create-the-app-directory)
    * [`public` ](https://nextjs.org/docs/app/building-your-application/optimizing/static-assets?utm_source=nextra.site&utm_medium=referral&utm_campaign=sidebar)

  * [Guide](/docs/guide)

    * [Markdown](/docs/guide/markdown)
    * [Syntax Highlighting](/docs/guide/syntax-highlighting)
    * [Next.js Link](/docs/guide/link)
    * [Next.js Image](/docs/guide/image)
    * [Next.js SSG](/docs/guide/ssg)
    * [Next.js I18n](/docs/guide/i18n)
    * [Custom CSS](/docs/guide/custom-css)
    * [Static Exports](/docs/guide/static-exports)
    * [Search Engine](/docs/guide/search)
    * [GitHub Alert Syntax](/docs/guide/github-alert-syntax)
    * [Usage with Turbopack](/docs/guide/turbopack)
    * [Deploying ](https://nextjs.org/docs/app/building-your-application/deploying?utm_source=nextra.site&utm_medium=referral&utm_campaign=sidebar)

  * [Advanced](/docs/advanced)

    * [Npm2Yarn](/docs/advanced/npm2yarn)
    * [Mermaid](/docs/advanced/mermaid)
    * [Tailwind CSS](/docs/advanced/tailwind-css)
    * [LaTeX](/docs/advanced/latex)
    * [Rendering Tables](/docs/advanced/table)
    * [TypeScript](/docs/advanced/typescript)
    * [Remote Content](/docs/advanced/remote)
    * [Playground](/docs/advanced/playground)
    * [Customize Cascade Layers](/docs/advanced/customize-the-cascade-layers)
    * [Twoslash Support](/docs/advanced/twoslash)

  * [Built-In Components](/docs/built-ins)

    * Layout Components
    * [Banner](/docs/built-ins/banner)
    * [Head](/docs/built-ins/head)
    * [Search](/docs/built-ins/search)
    * Content Components
    * [Bleed](/docs/built-ins/bleed)
    * [Callout](/docs/built-ins/callout)
    * [Cards](/docs/built-ins/cards)
    * [FileTree](/docs/built-ins/filetree)
    * [Steps](/docs/built-ins/steps)
    * [Table](/docs/built-ins/table)
    * [Tabs](/docs/built-ins/tabs)

  * Themes
  * [Docs Theme](/docs/docs-theme)

    * [Get Started](/docs/docs-theme/start)
    * [Built-In Components](/docs/docs-theme/built-ins)

      * [Layout](/docs/docs-theme/built-ins/layout)
      * [Footer](/docs/docs-theme/built-ins/footer)
      * [Navbar](/docs/docs-theme/built-ins/navbar)
      * [NotFoundPage](/docs/docs-theme/built-ins/not-found)

    * [API](/docs/docs-theme/api)

  * [Blog Theme](/docs/blog-theme)

    * [Get Started](/docs/blog-theme/start)
    * [Get Posts and Their Tags](/docs/blog-theme/get-posts-and-tags)
    * [`/posts` Page](/docs/blog-theme/posts)
    * [`/tags/:id` Page](/docs/blog-theme/tags)
    * [`/rss.xml` Route](/docs/blog-theme/rss)

  * [Custom Theme](/docs/custom-theme)
  * More
  * [About Nextra](/about)
  * [Next.js Docs ](https://nextjs.org?utm_source=nextra.site&utm_medium=referral&utm_campaign=sidebar)
  * [Migration from Nextra v3 ](https://the-guild.dev/blog/nextra-4?utm_source=nextra.site&utm_campaign=sidebar&utm_content=sidebar_link#nextra-theme-docs-changes)

Light

On This Page

  * Features
  * Inlined code
  * Highlighting lines
  * Highlighting substrings
  * Copy button
  * Line numbers
  * Filenames and titles
  * ANSI highlighting
  * Supported languages
  * With dynamic content
  * Disable syntax highlighting
  * Custom grammar
  * Custom themes
  * Multiple themes (dark and light mode)

[Question? Give us feedback
](https://github.com/shuding/nextra/issues/new?title=Feedback%20for%20%E2%80%9CSyntax%20Highlighting%E2%80%9D&labels=feedback)[Edit
this page on GitHub
](https://github.com/shuding/nextra/tree/main/docs/app/docs/guide/syntax-
highlighting/page.mdx)Scroll to top

[Documentation](/docs "Documentation")[Guide](/docs/guide "Guide")Syntax
Highlighting

# Syntax Highlighting

Nextra uses [Shiki ](https://shiki.style) to do syntax highlighting at build
time. Itâ€™s very reliable and performant. For example, adding this in your
Markdown file:

Markdown

    
    
    ```js
    console.log('hello, world')
    ```

Results in:

    
    
    console.log('hello, world')

## Features

### Inlined code

Inlined syntax highlighting like `let x = 1` is also supported via the `{:}`
syntax:

Markdown

    
    
    Inlined syntax highlighting is also supported `let x = 1{:jsx}` via:

### Highlighting lines

You can highlight specific lines of code by adding a `{}` attribute to the
code block:

Markdown

    
    
    ```js {1,4-5}
    import { useState } from 'react'
     
    function Counter() {
      const [count, setCount] = useState(0)
      return <button onClick={() => setCount(count + 1)}>{count}</button>
    }
    ```

Result:

    
    
    import { useState } from 'react'
     
    function Counter() {
      const [count, setCount] = useState(0)
      return <button onClick={() => setCount(count + 1)}>{count}</button>
    }

### Highlighting substrings

You can highlight specific substrings of code by adding a `//` attribute to
the code block:

Markdown

    
    
    ```js /useState/
    import { useState } from 'react'
     
    function Counter() {
      const [count, setCount] = useState(0)
      return <button onClick={() => setCount(count + 1)}>{count}</button>
    }
    ```
    
    
    import { useState } from 'react'
     
    function Counter() {
      const [count, setCount] = useState(0)
      return <button onClick={() => setCount(count + 1)}>{count}</button>
    }

You can highlight only a part of the occurrences of that substring by adding a
number it: `/str/1`, or multiple: `/str/1-3`, `/str/1,3`.

### Copy button

By adding a `copy` attribute, a copy button will be added to the code block
when the user hovers over it:

Markdown

    
    
    ```js copy
    console.log('hello, world')
    ```

Renders:

    
    
    console.log('hello, world')

**Note**

You can enable this feature globally by setting `defaultShowCopyCode: true` in
your Nextra configuration (`next.config.mjs` file). Once itâ€™s enabled
globally, you can disable it via the `copy=false` attribute.

### Line numbers

You can add line numbers to your code blocks by adding a `showLineNumbers`
attribute:

Markdown

    
    
    ```js showLineNumbers
    import { useState } from 'react'
     
    function Counter() {
      const [count, setCount] = useState(0)
      return <button onClick={() => setCount(count + 1)}>{count}</button>
    }
    ```

Renders:

    
    
    import { useState } from 'react'
     
    function Counter() {
      const [count, setCount] = useState(0)
      return <button onClick={() => setCount(count + 1)}>{count}</button>
    }

### Filenames and titles

You can add a filename or a title to your code blocks by adding a `filename`
attribute:

Markdown

    
    
    ```js filename="example.js"
    console.log('hello, world')
    ```

Renders:

example.js

    
    
    console.log('hello, world')

### ANSI highlighting

You can highlight ANSI escape codes:

Markdown

    
    
    ```ansi
    [0m [0;32mâœ“[0m [0;2msrc/[0mindex[0;2m.test.ts (1)[0m
      [0;2m Test Files [0m [0;1;32m1 passed[0;98m (1)[0m
      [0;2m      Tests [0m [0;1;32m1 passed[0;98m (1)[0m
      [0;2m   Start at [0m 23:32:41
      [0;2m   Duration [0m 11ms
      [42;1;39;0m PASS [0;32m Waiting for file changes...[0m
             [0;2mpress [0;1mh[0;2m to show help, press [0;1mq[0;2m to quit
    ```

Renders:

    
    
     âœ“ src/index.test.ts (1)
       Test Files  1 passed (1)
            Tests  1 passed (1)
         Start at  23:32:41
         Duration  11ms
       PASS  Waiting for file changes...
             press h to show help, press q to quit

## Supported languages

Check [this list
](https://github.com/shikijs/shiki/blob/main/docs/languages.md) for all
supported languages.

## With dynamic content

Since syntax highlighting is done at build time, you canâ€™t use dynamic content
in your code blocks. However, since MDX is very powerful there is a workaround
via client JS. For example:

dynamic-code.js

    
    
    function hello() {
      const x = 2 + 3
      console.log(1)
    }

Increase the numberChange to `1 + 1`

This workaround has a limitation that updated content wonâ€™t be re-highlighted.
For example if we update the number to `1 + 1`, it will be incorrectly
highlighted.

Check out the [code
](https://github.com/shuding/nextra/blob/main/docs/app/docs/guide/syntax-
highlighting/_dynamic-code.tsx) to see how it works.

## Disable syntax highlighting

You can opt out of syntax highlighting for using one of your own. You can
disable syntax highlighting globally by setting `codeHighlight: false` in your
Nextra configuration (`next.config.mjs` file).

Option| Type| Description  
---|---|---  
codeHighlight| boolean| Enable or disable syntax highlighting. Defaults to
`true`.  
  
## Custom grammar

Shiki accepts a [VSCode TextMate Grammar
](https://code.visualstudio.com/api/language-extensions/syntax-highlight-
guide) for syntax highlighting with custom language grammars.

You can provide these grammars by overriding the `getHighlighter` function in
`mdxOptions.rehypePrettyCodeOptions` option in your Nextra config inside
`next.config.mjs`:

next.config.mjs

    
    
    import { BUNDLED_LANGUAGES } from 'shiki'
     
    nextra({
      // ... other Nextra config options
      mdxOptions: {
        rehypePrettyCodeOptions: {
          getHighlighter: options =>
            getHighlighter({
              ...options,
              langs: [
                ...BUNDLED_LANGUAGES,
                // custom grammar options, see the Shiki documentation for how to provide these options
                {
                  id: 'my-lang',
                  scopeName: 'source.my-lang',
                  aliases: ['mylang'], // Along with id, aliases will be included in the allowed names you can use when writing Markdown
                  path: '../../public/syntax/grammar.tmLanguage.json'
                }
              ]
            })
        }
      }
    })

## Custom themes

Within `mdxOptions.rehypePrettyCodeOptions` you may also provide custom themes
instead of [relying on CSS Variables](/docs/guide/syntax-highlighting):

next.config.mjs

    
    
    nextra({
      // ... other Nextra config options
      mdxOptions: {
        rehypePrettyCodeOptions: {
          // VSCode theme or built-in Shiki theme, see Shiki documentation for more information
          theme: JSON.parse(
            readFileSync('./public/syntax/arctis_light.json', 'utf8')
          )
        }
      }
    })

### Multiple themes (dark and light mode)

Pass your themes to `theme`, where the keys represent the color mode:

next.config.mjs

    
    
    nextra({
      // ... other Nextra config options
      mdxOptions: {
        rehypePrettyCodeOptions: {
          theme: {
            dark: 'nord',
            light: 'min-light'
          }
        }
      }
    })

Last updated on February 15, 2025

[Markdown](/docs/guide/markdown "Markdown")[Next.js Link](/docs/guide/link
"Next.js Link")

* * *

[Powered by](https://vercel.com?utm_source=nextra.site "vercel.com homepage")

Â© 2025 The Nextra Project.

